<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Arial; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Arial; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="de"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;Teamday 2025 | Montagsmaler&lt;/title&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Tailwind CSS --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- React &amp; ReactDOM --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script type="importmap"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>"imports": {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>"react": "https://esm.sh/react@18.2.0",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>"react-dom/client": "https://esm.sh/react-dom@18.2.0/client",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>"firebase/app": "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>"firebase/firestore": "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>"firebase/auth": "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- Babel for JSX --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://unpkg.com/@babel/standalone/babel.min.js"&gt;&lt;/script&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@font-face {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-family: 'TeleGrotesk';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>src: local('Arial');<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-family: 'TeleGrotesk', sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>overflow-x: hidden; /* Prevent accidental horizontal scroll */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.touch-none {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>touch-action: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>/* Custom Animations */</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes crashZoom {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>0% { transform: scale(1); opacity: 1; }<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>80% { opacity: 1; }<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>100% { transform: scale(50); opacity: 0; }<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes slideDown {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>from { opacity: 0; transform: translateY(-20px); }<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>to { opacity: 1; transform: translateY(0); }<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.animate-slideDown {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>animation: slideDown 0.5s ease-out forwards;<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body class="bg-gray-50 text-gray-800"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="root"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script type="text/babel" data-type="module"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import React, { useState, useRef, useEffect } from 'react';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import { createRoot } from 'react-dom/client';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import { initializeApp } from 'firebase/app';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import {<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>getFirestore, collection, doc, onSnapshot,<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>setDoc, addDoc, query, orderBy,<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>serverTimestamp<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>} from 'firebase/firestore';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from 'firebase/auth';</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- ICONS (Inline SVGs to remove external dependency) ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const Icon = ({ path, className, size = 24 }) =&gt; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>{path}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const Icons = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Play: (p) =&gt; &lt;Icon {...p} path={&lt;polygon points="5 3 19 12 5 21 5 3"&gt;&lt;/polygon&gt;} /&gt;,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Pause: (p) =&gt; &lt;Icon {...p} path={&lt;&gt;&lt;rect x="6" y="4" width="4" height="16"&gt;&lt;/rect&gt;&lt;rect x="14" y="4" width="4" height="16"&gt;&lt;/rect&gt;&lt;/&gt;} /&gt;,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>RefreshCw: (p) =&gt; &lt;Icon {...p} path={&lt;&gt;&lt;polyline points="23 4 23 10 17 10"&gt;&lt;/polyline&gt;&lt;polyline points="1 20 1 14 7 14"&gt;&lt;/polyline&gt;&lt;path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"&gt;&lt;/path&gt;&lt;/&gt;} /&gt;,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Eraser: (p) =&gt; &lt;Icon {...p} path={&lt;path d="M2.9 8.183l9.9 9.9 8.183-8.182a2.121 2.121 0 0 0 0-3L11.084.586a2.121 2.121 0 0 0-3 0L2.9 5.182a2.121 2.121 0 0 0 0 3z"&gt;&lt;/path&gt;} /&gt;,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Monitor: (p) =&gt; &lt;Icon {...p} path={&lt;&gt;&lt;rect x="2" y="3" width="20" height="14" rx="2" ry="2"&gt;&lt;/rect&gt;&lt;line x1="8" y1="21" x2="16" y2="21"&gt;&lt;/line&gt;&lt;line x1="12" y1="17" x2="12" y2="21"&gt;&lt;/line&gt;&lt;/&gt;} /&gt;,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Edit3: (p) =&gt; &lt;Icon {...p} path={&lt;path d="M12 20h9M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"&gt;&lt;/path&gt;} /&gt;,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Settings: (p) =&gt; &lt;Icon {...p} path={&lt;circle cx="12" cy="12" r="3"&gt;&lt;/circle&gt;} /&gt;, // Simplified settings icon</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>Shield: (p) =&gt; &lt;Icon {...p} path={&lt;path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"&gt;&lt;/path&gt;} /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// --- CONFIGURATION ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// WICHTIG: Ersetze dies mit deiner eigenen Firebase Config, wenn du Multiplayer nutzen willst.</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Falls keine Config da ist, läuft die App im Demo-Modus (kein Sync).</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const FIREBASE_CONFIG = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const APP_ID = typeof __app_id !== 'undefined' ? __app_id : 'teamday-2025-prod';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const INITIAL_TOKEN = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const COLORS = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>magenta: '#E20074',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>dark: '#161616',<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>white: '#FFFFFF'</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const WORD_CATEGORIES = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>easy: ["Homeoffice", "Kaffeemaschine", "Router", "Smartphone", "Maus", "Headset", "Laptop", "MagentaTV", "Glasfaser", "5G-Mast"],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>medium: ["Videokonferenz", "Datenschutz", "Cloud-Speicher", "Funkloch", "Warteschleife", "Smart Home", "Techniker", "Bandbreite", "Serverraum"],</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>hard: ["Chefin im Bikini", "Kabelsalat", "Meeting im Pyjama", "Stummgeschaltet", "Katze auf Tastatur", "Techniker kommt", "Update Zwang", "VR Brille", "Daten-Stau", "Passwort weg"]</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function App() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- STATE ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [user, setUser] = useState(null);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [role, setRole] = useState(null);<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [phase, setPhase] = useState('intro');<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [gameState, setGameState] = useState({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>activeTeam: 'A',</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>scoreA: 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>scoreB: 0,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>timeLeft: 60,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>timerActive: false,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>currentWord: '',<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>lastClear: 0<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [brushColor, setBrushColor] = useState(COLORS.dark);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [brushSize, setBrushSize] = useState(4);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const [isDrawing, setIsDrawing] = useState(false);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const canvasRef = useRef(null);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const contextRef = useRef(null);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const dbRef = useRef(null);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const localStrokesBuffer = useRef([]);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- FIREBASE INIT ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>useEffect(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const initFirebase = async () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if (!FIREBASE_CONFIG) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>console.warn("No Firebase Config found. App running in Offline/Demo mode.");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>const app = initializeApp(FIREBASE_CONFIG);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>const auth = getAuth(app);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>const db = getFirestore(app);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>dbRef.current = db;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>if (INITIAL_TOKEN) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>await signInWithCustomToken(auth, INITIAL_TOKEN);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>await signInAnonymously(auth);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>onAuthStateChanged(auth, (u) =&gt; setUser(u));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>} catch (err) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>console.error("Firebase Init Error:", err);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>initFirebase();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}, []);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- DATA SYNC ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>useEffect(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (!user || !dbRef.current) return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const db = dbRef.current;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// Sync Game State</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const stateDocRef = doc(db, 'artifacts', APP_ID, 'public', 'data', 'gamestate_doc', 'state');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setDoc(stateDocRef, { initialized: true }, { merge: true }).catch(() =&gt; {});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const unsubState = onSnapshot(stateDocRef, (docSnap) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if (docSnap.exists()) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>const data = docSnap.data();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>setGameState(prev =&gt; ({ ...prev, ...data }));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>if (data.lastClear &amp;&amp; data.lastClear !== gameState.lastClear) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                           </span>clearCanvasLocal();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// Sync Strokes</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const strokesQuery = query(collection(db, 'artifacts', APP_ID, 'public', 'data', 'strokes_col'), orderBy('timestamp', 'asc'));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const unsubStrokes = onSnapshot(strokesQuery, (snapshot) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>snapshot.docChanges().forEach((change) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>if (change.type === "added") {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>const stroke = change.doc.data();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>if (role !== 'player' || stroke.userId !== user.uid) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>drawStrokeRemote(stroke);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return () =&gt; { unsubState(); unsubStrokes(); };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}, [user, role]);<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- CANVAS LOGIC ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>useEffect(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (phase === 'game' &amp;&amp; canvasRef.current) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const canvas = canvasRef.current;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const container = canvas.parentElement;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const dpr = window.devicePixelRatio || 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const rect = container.getBoundingClientRect();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>canvas.width = rect.width * dpr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>canvas.height = 500 * dpr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>canvas.style.width = `${rect.width}px`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>canvas.style.height = "500px";</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const ctx = canvas.getContext("2d");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.scale(dpr, dpr);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.lineCap = "round";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.lineJoin = "round";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>contextRef.current = ctx;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.strokeStyle = brushColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.lineWidth = brushSize;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}, [phase]);<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>useEffect(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if(contextRef.current) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>contextRef.current.strokeStyle = brushColor;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>contextRef.current.lineWidth = brushSize;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}, [brushColor, brushSize]);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const drawStrokeRemote = (stroke) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const ctx = contextRef.current;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (!ctx || !stroke.points || stroke.points.length &lt; 2) return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.save();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.strokeStyle = stroke.color;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.lineWidth = stroke.size;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.moveTo(stroke.points[0].x, stroke.points[0].y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>for (let i = 1; i &lt; stroke.points.length; i++) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>ctx.lineTo(stroke.points[i].x, stroke.points[i].y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>ctx.restore();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const clearCanvasLocal = () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (canvasRef.current &amp;&amp; contextRef.current) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const w = canvasRef.current.width / (window.devicePixelRatio || 1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const h = canvasRef.current.height / (window.devicePixelRatio || 1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>contextRef.current.clearRect(0, 0, w, h);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const getCoords = (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const canvas = canvasRef.current;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const rect = canvas.getBoundingClientRect();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const clientX = e.nativeEvent.touches ? e.nativeEvent.touches[0].clientX : e.nativeEvent.clientX;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const clientY = e.nativeEvent.touches ? e.nativeEvent.touches[0].clientY : e.nativeEvent.clientY;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return { x: clientX - rect.left, y: clientY - rect.top };</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const startDrawing = (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (role !== 'player') return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>// e.preventDefault(); // handled by touch-action css</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const { x, y } = getCoords(e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>contextRef.current.beginPath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>contextRef.current.moveTo(x, y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setIsDrawing(true);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>localStrokesBuffer.current = [{ x, y }];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const draw = (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (!isDrawing || role !== 'player') return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const { x, y } = getCoords(e);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>contextRef.current.lineTo(x, y);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>contextRef.current.stroke();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>localStrokesBuffer.current.push({ x, y });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const stopDrawing = async () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (!isDrawing || role !== 'player') return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>contextRef.current.closePath();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setIsDrawing(false);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (user &amp;&amp; dbRef.current &amp;&amp; localStrokesBuffer.current.length &gt; 1) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>const strokeData = {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>userId: user.uid,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>color: brushColor,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>size: brushSize,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>points: localStrokesBuffer.current,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>timestamp: serverTimestamp()</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>addDoc(collection(dbRef.current, 'artifacts', APP_ID, 'public', 'data', 'strokes_col'), strokeData);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>localStrokesBuffer.current = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- ADMIN ACTIONS ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const updateGameState = async (updates) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (!dbRef.current) return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>await setDoc(doc(dbRef.current, 'artifacts', APP_ID, 'public', 'data', 'gamestate_doc', 'state'), updates, { merge: true });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const clearBoardGlobal = async () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (!dbRef.current) return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>await updateGameState({ lastClear: Date.now() });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const generateWord = (diff) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const list = WORD_CATEGORIES[diff];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>updateGameState({ currentWord: list[Math.floor(Math.random() * list.length)] });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- TIMER EFFECT ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>useEffect(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>let interval;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if (gameState.timerActive &amp;&amp; gameState.timeLeft &gt; 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>interval = setInterval(() =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>if (role === 'admin') updateGameState({ timeLeft: gameState.timeLeft - 1 });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}, 1000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>} else if (gameState.timeLeft === 0 &amp;&amp; gameState.timerActive &amp;&amp; role === 'admin') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>updateGameState({ timerActive: false });</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return () =&gt; clearInterval(interval);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}, [gameState.timerActive, gameState.timeLeft, role]);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>// --- RENDER ---</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (phase === 'intro') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; setPhase('lobby'), 3500);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div className="fixed inset-0 bg-[#161616] overflow-hidden flex items-center justify-center z-50"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div className="relative w-full h-full flex items-center justify-center" style={{ animation: 'crashZoom 3s cubic-bezier(0.7,0,1,1) forwards' }}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;div className="absolute inset-0 opacity-80" style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='5' y='20' font-family='monospace' font-weight='bold' font-size='18' fill='%23E20074' opacity='0.9'%3E1%3C/text%3E%3Ctext x='45' y='60' font-family='monospace' font-weight='bold' font-size='22' fill='%23ffffff' opacity='0.8'%3E0%3C/text%3E%3C/svg%3E")` }}&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;div className="relative z-10 flex flex-col items-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                 </span>&lt;div className="bg-[#161616]/90 backdrop-blur-md p-10 rounded-3xl border border-[#E20074]/50 shadow-[0_0_80px_rgba(226,0,116,0.4)]"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                     </span>&lt;img src="https://i.postimg.cc/gJVH7YL6/image-(23).png" className="w-40 h-auto mb-6 drop-shadow-[0_0_15px_rgba(226,0,116,0.8)] mx-auto" alt="Logo"/&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                     </span>&lt;h1 className="text-6xl md:text-8xl font-bold text-white tracking-tighter text-center" style={{ fontFamily: 'TeleGrotesk' }}&gt;TEAMDAY &lt;span className="text-[#E20074]"&gt;2025&lt;/span&gt;&lt;/h1&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                 </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (phase === 'lobby') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div className="min-h-screen bg-[#161616] flex flex-col items-center justify-center p-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div className="max-w-4xl w-full grid grid-cols-1 md:grid-cols-3 gap-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>{[</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>{ id: 'viewer', icon: Icons.Monitor, title: 'Präsentation', desc: 'Nur Spielbrett &amp; Score', color: 'text-[#E20074]' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>{ id: 'player', icon: Icons.Edit3, title: 'Teilnehmer', desc: 'Hier kannst du malen', color: 'text-green-500' },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>{ id: 'admin', icon: Icons.Settings, title: 'Controller', desc: 'Zeit, Punkte, Begriffe', color: 'text-blue-500' }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>].map(opt =&gt; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;button key={opt.id} onClick={() =&gt; { setRole(opt.id); setPhase('game'); }} className="group bg-gray-800 hover:bg-gray-700 p-8 rounded-2xl border border-gray-700 hover:border-[#E20074] transition-all text-left"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;opt.icon size={48} className={`${opt.color} mb-4 group-hover:scale-110 transition-transform`} /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;h2 className="text-2xl font-bold text-white mb-2"&gt;{opt.title}&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;p className="text-gray-400 text-sm"&gt;{opt.desc}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>))}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div className="min-h-screen flex flex-col"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>{/* Header */}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;header className="bg-white shadow-md z-20 sticky top-0 border-b-4 border-[#E20074]"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div className="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div className="flex items-center space-x-3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;img src="https://i.postimg.cc/gJVH7YL6/image-(23).png" className="h-8 w-auto object-contain" alt="Logo"/&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;h1 className="text-xl font-bold tracking-tight text-gray-900 hidden md:block"&gt;TEAMDAY &lt;span className="text-[#E20074]"&gt;2025&lt;/span&gt;&lt;/h1&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div className="flex items-center space-x-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div className={`flex items-center space-x-2 px-3 py-1 rounded-lg border-2 ${gameState.activeTeam === 'A' ? 'border-[#E20074] bg-pink-50' : 'border-transparent'}`}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span className="font-bold text-gray-600"&gt;Grp A&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span className="text-xl font-bold text-[#E20074]"&gt;{Number(gameState.scoreA)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div className="text-gray-300"&gt;vs&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div className={`flex items-center space-x-2 px-3 py-1 rounded-lg border-2 ${gameState.activeTeam === 'B' ? 'border-[#E20074] bg-pink-50' : 'border-transparent'}`}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span className="font-bold text-gray-600"&gt;Grp B&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span className="text-xl font-bold text-[#E20074]"&gt;{Number(gameState.scoreB)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/header&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;main className="flex-grow p-4 md:p-6 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-4 gap-6"&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>{/* Sidebar */}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div className="lg:col-span-1 space-y-6 order-2 lg:order-1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>{/* Timer */}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center justify-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div className="relative w-24 h-24 flex items-center justify-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;svg className="w-full h-full transform -rotate-90"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;circle cx="48" cy="48" r="44" stroke="#f3f4f6" strokeWidth="6" fill="none" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;circle cx="48" cy="48" r="44" stroke={gameState.timeLeft &lt; 10 ? '#E20074' : '#161616'} strokeWidth="6" fill="none" strokeDasharray={276} strokeDashoffset={276 - (276 * Number(gameState.timeLeft || 60)) / 60} className="transition-all duration-1000 ease-linear" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/svg&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="absolute inset-0 flex items-center justify-center flex-col"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;span className={`text-3xl font-bold ${gameState.timeLeft &lt; 10 ? 'text-[#E20074] animate-pulse' : 'text-gray-800'}`}&gt;{Number(gameState.timeLeft)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>{role === 'admin' &amp;&amp; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="flex w-full space-x-2 mt-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;button onClick={() =&gt; updateGameState({ timerActive: !gameState.timerActive })} className={`flex-1 flex items-center justify-center py-2 rounded-lg font-medium transition-colors text-white ${gameState.timerActive ? 'bg-gray-400' : 'bg-[#E20074]'}`}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                            </span>{gameState.timerActive ? &lt;Icons.Pause size={16} /&gt; : &lt;Icons.Play size={16} /&gt;}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;button onClick={() =&gt; updateGameState({ timeLeft: 60, timerActive: false })} className="flex-1 flex items-center justify-center bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 rounded-lg"&gt;Reset&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>)}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>{/* Player Tools */}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>{role === 'player' &amp;&amp; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 animate-slideDown"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;h3 className="text-sm font-bold text-gray-400 uppercase mb-4"&gt;Werkzeuge&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="flex justify-between mb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>{[COLORS.dark, COLORS.magenta, '#1E40AF', '#10B981', '#F59E0B'].map(c =&gt; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                            </span>&lt;button key={c} onClick={() =&gt; setBrushColor(c)} className={`w-8 h-8 rounded-full border-2 ${brushColor === c ? 'border-gray-900 scale-110 ring-2' : 'border-transparent'}`} style={{ backgroundColor: c }} /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>))}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;input type="range" min="2" max="20" value={brushSize} onChange={(e) =&gt; setBrushSize(parseInt(e.target.value))} className="w-full h-2 bg-gray-200 rounded-lg accent-[#E20074] mb-6" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="grid grid-cols-2 gap-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;button onClick={() =&gt; setBrushColor('#FFFFFF')} className="flex items-center justify-center px-4 py-2 border rounded-lg hover:bg-gray-50"&gt;&lt;Icons.Eraser size={16} className="mr-2" /&gt; Radierer&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;button onClick={clearBoardGlobal} className="flex items-center justify-center px-4 py-2 border rounded-lg hover:bg-red-50 text-red-500"&gt;&lt;Icons.RefreshCw size={16} className="mr-2" /&gt; Löschen&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>)}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>{/* Admin Tools */}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>{role === 'admin' &amp;&amp; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div className="bg-gradient-to-b from-gray-900 to-gray-800 text-white p-6 rounded-2xl shadow-lg animate-slideDown"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;h3 className="text-[#E20074] font-bold text-sm uppercase mb-4 flex items-center"&gt;&lt;Icons.Shield size={16} className="mr-2"/&gt; Admin&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="mb-6 border-b border-gray-700 pb-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;div className="flex space-x-2 mb-3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                            </span>{['easy', 'medium', 'hard'].map(d =&gt; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                                </span>&lt;button key={d} onClick={() =&gt; generateWord(d)} className="flex-1 bg-gray-700 hover:bg-gray-600 py-1 rounded text-xs capitalize"&gt;{d}&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                            </span>))}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;div className="bg-black/30 p-3 rounded text-center min-h-[50px] flex flex-col justify-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                            </span>&lt;span className="text-xl font-bold text-white"&gt;{String(gameState.currentWord || '...')}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="grid grid-cols-2 gap-2 mb-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;button onClick={() =&gt; updateGameState({ scoreA: (gameState.scoreA||0)+1, activeTeam: 'B', timerActive: false })} className="py-2 bg-gray-700 hover:bg-[#E20074] rounded text-sm"&gt;Punkt A&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;button onClick={() =&gt; updateGameState({ scoreB: (gameState.scoreB||0)+1, activeTeam: 'A', timerActive: false })} className="py-2 bg-gray-700 hover:bg-[#E20074] rounded text-sm"&gt;Punkt B&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;button onClick={clearBoardGlobal} className="w-full py-2 border border-red-500/50 text-red-400 hover:bg-red-500 hover:text-white rounded text-sm transition-colors"&gt;Board leeren&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>)}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>{/* Main Canvas Area */}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div className="lg:col-span-3 flex flex-col order-1 lg:order-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div className="bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden relative touch-none" style={{ height: '500px' }}&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;canvas</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>ref={canvasRef}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>onMouseDown={startDrawing}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>onMouseUp={stopDrawing}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>onMouseMove={draw}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>onTouchStart={startDrawing}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>onTouchEnd={stopDrawing}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>onTouchMove={draw}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>className="w-full h-full cursor-crosshair touch-none"</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>/&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>{role !== 'player' &amp;&amp; &lt;div className="absolute inset-0 z-10 pointer-events-none"&gt;&lt;/div&gt;}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>{role === 'viewer' &amp;&amp; !gameState.timerActive &amp;&amp; (</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div className="absolute inset-0 flex items-center justify-center pointer-events-none"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                        </span>&lt;div className="bg-white/80 backdrop-blur px-6 py-3 rounded-full shadow-lg border border-gray-100 text-gray-500"&gt;Warte auf Start...&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>)}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const root = createRoot(document.getElementById('root'));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>root.render(&lt;App /&gt;);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
